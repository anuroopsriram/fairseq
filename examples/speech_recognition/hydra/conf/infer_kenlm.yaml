# @package _group_

defaults:
    - task: null
    - model: null

hydra:
  run:
    dir: ${common_eval.results_path}/beam${decoding.decoder.beam}_lmw${decoding.decoder.lmweight}_wrd${decoding.decoder.wordscore}_sil${decoding.decoder.silweight}
  sweep:
    dir: ${common_eval.results_path}
    subdir: beam${decoding.decoder.beam}_lmw${decoding.decoder.lmweight}_wrd${decoding.decoder.wordscore}_sil${decoding.decoder.silweight}

decoding:
  exp_dir: ???
  decoder:
    name: kenlm
    lexicon: ???
    lmpath: ???
    beamthreshold: 100
    beam: 50
    lmweight: 2
    wordscore: -1
    silweight: 0
common_eval:
  results_path: ${decoding.exp_dir}/decode/${decoding.decoder.name}/${dataset.gen_subset}
  path: ${decoding.exp_dir}/checkpoint_best.pt
  post_process: letter
generation:
  nbest: 1
  beam: 500
dataset:
  max_tokens: 1000000
  gen_subset: ???
